{"title":"git整理","slug":"git整理","date":"2017-05-22T13:15:00.000Z","updated":"2017-06-10T12:14:40.906Z","comments":true,"excerpt":"<p>好好学 git ，朝 dalao 看齐！<br><img src=\"/img/git整理/top.png\" alt=\"top\"><br>","content":"<p>好好学 git ，朝 dalao 看齐！<br><img src=\"/img/git整理/top.png\" alt=\"top\"><br><a id=\"more\"></a></p>\n<h2 id=\"git是什么？\"><a href=\"#git是什么？\" class=\"headerlink\" title=\"git是什么？\"></a>git是什么？</h2><p>Git 是一款免费的、开源的、分布式的版本控制系统。<br>每一个 Git克隆 都是一个完整的文件库，含有全部历史记录和修订追踪能力，不依赖于网络连接或中心服务器。其最大特色就是“分支”及“合并”操作非常快速、简便。</p>\n<p><a href=\"https://github.com/git-for-windows/git/releases/download/v2.13.0.windows.1/Git-2.13.0-64-bit.exe\" target=\"_blank\" rel=\"external\">下载 Git for Windows 64-bit </a><br><a href=\"https://github.com/git-for-windows/git/releases/download/v2.13.0.windows.1/Git-2.13.0-32-bit.exe\" target=\"_blank\" rel=\"external\">下载 Git for Windows 32-bit </a></p>\n<h2 id=\"使用git\"><a href=\"#使用git\" class=\"headerlink\" title=\"使用git\"></a>使用git</h2><h3 id=\"whoami-告诉git你是谁\"><a href=\"#whoami-告诉git你是谁\" class=\"headerlink\" title=\"whoami 告诉git你是谁\"></a>whoami 告诉git你是谁</h3><p>配置用户信息<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">git config --list 查看配置</div><div class=\"line\">git config --global user.name github用户名</div><div class=\"line\">git config --global user.email github邮箱</div></pre></td></tr></table></figure></p>\n<h3 id=\"git-的简单操作\"><a href=\"#git-的简单操作\" class=\"headerlink\" title=\"git 的简单操作\"></a>git 的简单操作</h3><p>创建目录<br><em>P:文件名可以Tab补全</em><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">mkdir 目录名字</div></pre></td></tr></table></figure></p>\n<p>进入目录<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">cd 目录名</div><div class=\"line\">mkdir test-git &amp;&amp; cd test-git 创建目录并进入</div></pre></td></tr></table></figure></p>\n<p>初始化git仓库<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">git init (初始化)</div><div class=\"line\">ls -al 查看所有文件 包括隐藏文件</div></pre></td></tr></table></figure></p>\n<p>创建文件<br><em>P:可以创建特殊文件</em><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">touch index.txt</div></pre></td></tr></table></figure></p>\n<p>查看文件内容<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">cat index.txt</div></pre></td></tr></table></figure></p>\n<p>文本编辑器<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">vi index.txt 编辑文件</div></pre></td></tr></table></figure></p>\n<p>vi常用命令:<code>i</code>进入插入模式<code>esc</code>退出编辑模式<code>:w</code>保存<code>:q</code>退出<code>:!q</code>强制退出</p>\n<h2 id=\"git-版本库\"><a href=\"#git-版本库\" class=\"headerlink\" title=\"git 版本库\"></a>git 版本库</h2><p>查看git状态</p>\n<ul>\n<li>红色表示没有在暂存区中</li>\n<li>绿色标识在暂存区中</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git status</div></pre></td></tr></table></figure>\n<p>加入暂存区<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">//单个文件加入</div><div class=\"line\">git add 文件名</div><div class=\"line\"></div><div class=\"line\">//所有文件加入</div><div class=\"line\">git add ./git add -A</div></pre></td></tr></table></figure></p>\n<p>加入历史区<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git commit -m &apos;&apos;</div></pre></td></tr></table></figure></p>\n<p>查看历史<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">git log</div><div class=\"line\">git log --oneline //历史记录简洁化</div></pre></td></tr></table></figure></p>\n<p>git diff<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">git diff //默认工作区和暂存区比较</div><div class=\"line\">git diff --cached //比较暂存区和历史区不同</div><div class=\"line\">git diff master //比较工作区和历史区 后面是分支名</div></pre></td></tr></table></figure></p>\n<p>从暂存区中覆盖掉工作区<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">git checkout 文件名</div><div class=\"line\">git checkout .</div></pre></td></tr></table></figure></p>\n<p>从历史区中覆盖掉工作区<br><em>选择某个版本进行回滚操作</em><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git reset --hard 版本id</div></pre></td></tr></table></figure></p>\n<p>查看所有历史版本<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git reflog</div></pre></td></tr></table></figure></p>\n<p>删除上一次添加暂存区的内容<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git reset HEAD .</div></pre></td></tr></table></figure></p>\n<h3 id=\"创建-gitignore文件\"><a href=\"#创建-gitignore文件\" class=\"headerlink\" title=\"创建.gitignore文件\"></a>创建.gitignore文件</h3><p>必须在add之前创建<br>把需要忽略上传的文件名写入此文件<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">.idea</div><div class=\"line\">node_modules</div><div class=\"line\">.DS_Store</div></pre></td></tr></table></figure></p>\n<hr>\n\n<h2 id=\"分支\"><a href=\"#分支\" class=\"headerlink\" title=\"分支\"></a>分支</h2><p>创建的分支和master一样<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">git branch (查看分支)</div><div class=\"line\">git branch 分支名 (建立分支)</div><div class=\"line\">git branch -D 删除分支</div></pre></td></tr></table></figure></p>\n<p>创建并切换分支<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">//dev分支名</div><div class=\"line\">git checkout -b dev</div><div class=\"line\">=&gt;</div><div class=\"line\">git branch dev //创建分支</div><div class=\"line\">git checkout dev //切换分支</div></pre></td></tr></table></figure></p>\n<p>将内容提交到某个分支上</p>\n<blockquote>\n<p>默认我们的代码是放在工作区上，不属于任何分支，只有提交到某个分支上，此文件才归属于特定的分支</p>\n</blockquote>\n<p>fast-forward</p>\n<ul>\n<li>主干没有任何更新</li>\n<li>分支提交了新的代码</li>\n</ul>\n<blockquote>\n<p>将主干的指针快速指向到分支最新的代码即可</p>\n</blockquote>\n<p>合并分支<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git merge dev //合并dev分支</div></pre></td></tr></table></figure></p>\n<p>conflict</p>\n<ul>\n<li>合并多个分支时可能合并的内容会产生冲突<br><img src=\"/img/正确食用git的方式/代码冲突.png\" style=\"width:80%\"></li>\n<li>手动解决冲突(进入文件，删除提示冲突的地方),提交最新结果</li>\n</ul>\n<p>创建有内容的文件<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">echo &quot;# 201702nide&quot; &gt; README.md</div></pre></td></tr></table></figure></p>\n<h2 id=\"提交到远程仓库\"><a href=\"#提交到远程仓库\" class=\"headerlink\" title=\"提交到远程仓库\"></a>提交到远程仓库</h2><p>建立文件</p>\n<ul>\n<li>README.md</li>\n<li>.gitignore</li>\n</ul>\n<p>提交到历史区</p>\n<ul>\n<li>git add</li>\n<li>git commit -m ‘信息’</li>\n</ul>\n<p>提交过的文件可以一步到位</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git commit -a -m &quot;add hello&quot;</div></pre></td></tr></table></figure>\n<p>查看远程仓库<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">git remote -v</div><div class=\"line\">git remote add 地址别名 //增加一个地址并给地址取个别名</div></pre></td></tr></table></figure></p>\n<p>本地和线上版本不一致</p>\n<ul>\n<li>线上比线下的版本新</li>\n<li>线上和线下两个版本都不一致</li>\n</ul>\n<p>拉取最新代码</p>\n<ul>\n<li>将线上最新代码拉取到master分支上</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git pull origin master //获取最新代码</div></pre></td></tr></table></figure>\n<p>推送代码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git push origin master //将master分支推送到origin这个地址上</div></pre></td></tr></table></figure>\n<p><img src=\"/img/正确食用git的方式/需要和远程建立关系.png\" style=\"width:60%\"></p>\n<p>如果地址未定义，需要把地址别名和远程链接建立关系</p>\n<hr>\n\n<h2 id=\"部署git静态网页\"><a href=\"#部署git静态网页\" class=\"headerlink\" title=\"部署git静态网页\"></a>部署git静态网页</h2><ul>\n<li>将网页通过git网址访问（只能放静态页，不能放置server）</li>\n<li>需要一个特定的分支（gh-pages）</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git checkout -b gh-pages</div></pre></td></tr></table></figure>\n<ul>\n<li>将代码提交到这个分支上</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">git add .</div><div class=\"line\">git commit -m&apos;static&apos;</div></pre></td></tr></table></figure>\n<ul>\n<li>建立本地和远程的链接</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git remote add 别名 url</div></pre></td></tr></table></figure>\n<ul>\n<li>推送到github上,将gh-pages提交到这个分支上</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git push origin gh-pages</div></pre></td></tr></table></figure>\n<ul>\n<li>在github中的setting上可以找到这个网址</li>\n</ul>\n<hr>\n\n<h2 id=\"github团队协作\"><a href=\"#github团队协作\" class=\"headerlink\" title=\"github团队协作\"></a>github团队协作</h2><p>fork</p>\n<ul>\n<li>叉子，将别人的代码当前的状态，克隆一份放到自己的仓库上，一个项目只能fork一次，别人的代码更新不会导致你的项目更新</li>\n</ul>\n<p>clone</p>\n<ul>\n<li>克隆是将线上的项目拉取到本地，拉下来后就是git仓库，而且已经添加好了远程仓库地址</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone 地址 文件夹名字</div></pre></td></tr></table></figure>\n<p>组长提交信息</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone 自己的项目地址</div><div class=\"line\">添加内容</div><div class=\"line\">git add .</div><div class=\"line\">git commit -m &apos;team xxx&apos;</div><div class=\"line\">git push origin master</div></pre></td></tr></table></figure>\n<p>组员给提交给自己</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">git clone 自己的项目地址</div><div class=\"line\">添加内容</div><div class=\"line\">git add .</div><div class=\"line\">git commit -m &apos;team xxx&apos;</div><div class=\"line\">git remote add leader 组长地址 与该地址建立联系</div><div class=\"line\">git pull leader master</div><div class=\"line\">git push origin master</div></pre></td></tr></table></figure>\n<p>组长再次提交给老师</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div></pre></td><td class=\"code\"><pre><div class=\"line\">添加内容</div><div class=\"line\">git add .</div><div class=\"line\">git commit -m &apos;team xxx&apos;</div><div class=\"line\">git remote add teacher 老师地址</div><div class=\"line\">git pull teacher master</div><div class=\"line\">git push origin master</div></pre></td></tr></table></figure>\n<hr>\n\n<h3 id=\"图片小结\"><a href=\"#图片小结\" class=\"headerlink\" title=\"图片小结\"></a>图片小结</h3><p><img src=\"/img/正确食用git的方式/git.png\" style=\"width:100%\"></p>\n<h4 id=\"cmd插件链接\"><a href=\"#cmd插件链接\" class=\"headerlink\" title=\"cmd插件链接\"></a>cmd插件链接</h4><p><a href=\"http://ohmyz.sh/\" target=\"_blank\" rel=\"external\">oh my zsh</a></p>\n<p><a href=\"http://www.iterm2.com/documentation.html\" target=\"_blank\" rel=\"external\">item2</a></p>\n<p><a href=\"https://brew.sh/index_zh-cn.html\" target=\"_blank\" rel=\"external\">Homebrew</a></p>\n<hr>\n\n\n<h2 id=\"About-me\"><a href=\"#About-me\" class=\"headerlink\" title=\"About me\"></a>About me</h2><p><a href=\"https://gggoe.github.io/\"><img src=\"https://img.shields.io/badge/author-gggoe-green.svg?style=flat-square\" alt=\"Author\"></a><br><a href=\"http://wpa.qq.com/msgrd?v=3&amp;uin=2449602607&amp;site=qq&amp;menu=yes\" target=\"_blank\" rel=\"external\"><img src=\"https://img.shields.io/badge/QQ-2449602607-blue.svg?style=flat-square\" alt=\"QQ\"></a><br><a href=\"mailto:gggoe@qq.com\" target=\"_blank\" rel=\"external\"><img src=\"https://img.shields.io/badge/Email-gggoe@qq.com-yellow.svg?style=flat-square\" alt=\"Email\"></a><br><a href=\"https://github.com/gggoe\" target=\"_blank\" rel=\"external\"><img src=\"https://img.shields.io/badge/github-gggoe-red.svg?style=flat-square\" alt=\"github\"></a></p>\n","thumbnail":"/img/git整理/cover.png","primarycolor":"amber","accentcolor":"deepOrange","categories":[{"name":"笔记","path":"api/categories/笔记.json"}],"tags":[{"name":"github","path":"api/tags/github.json"},{"name":"git","path":"api/tags/git.json"}]}